{
    "installCommand": "npm install --legacy-peer-deps",
    "version": 2,
    "builds": [
        {
            "src": "index.js",
            "use": "@vercel/node",
            "config": {
                "maxLambdaSize": "50mb",
                "memory": 1024,
                "maxDuration": 60
            }
        },
        {
            "src": "src/**/*",
            "use": "@vercel/static"
        }
    ],
    "rewrites": [
        { "source": "/api/(.*)", "destination": "/index.js" },
        { "source": "/socket.io/(.*)", "destination": "/index.js" },
        { "source": "/(.*)", "destination": "/index.js" }
    ],
    "headers": [
        {
            "source": "/(.*)",
            "headers": [
                { "key": "Access-Control-Allow-Origin", "value": "*" },
                { "key": "Access-Control-Allow-Methods", "value": "GET, POST, PUT, DELETE, OPTIONS" },
                { "key": "Access-Control-Allow-Headers", "value": "X-Requested-With, Content-Type, Accept, Authorization" }
            ]
        }
    ],
    "env": {
        "NODE_ENV": "production"
    }
}